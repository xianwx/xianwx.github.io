<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>yuzixin&#39;s blog</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://www.xianwx.xyz/"/>
  <updated>2018-07-19T03:49:26.539Z</updated>
  <id>http://www.xianwx.xyz/</id>
  
  <author>
    <name>禹子歆</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>写cocos的时候一些踩雷记录</title>
    <link href="http://www.xianwx.xyz/2018/07/19/quick-cocos/"/>
    <id>http://www.xianwx.xyz/2018/07/19/quick-cocos/</id>
    <published>2018-07-19T03:48:05.000Z</published>
    <updated>2018-07-19T03:49:26.539Z</updated>
    
    <content type="html"><![CDATA[<h1 id="C-导出给LUA使用的时候"><a href="#C-导出给LUA使用的时候" class="headerlink" title="C++导出给LUA使用的时候"></a>C++导出给LUA使用的时候</h1><pre><code>在导出给lua使用的时候，如果父类没有导出，那父控件继承的公共方法将没有。
比如 EffectLight 继承自 Effect Effect 继承自 Ref 如果不导出Effect 创建的EffectLight对象将没有retain方法，除非导出Effect。
</code></pre>]]></content>
    
    <summary type="html">
    
      平常吐槽不停，真到写起来的时候反而记不起来了……
    
    </summary>
    
      <category term="技术学习" scheme="http://www.xianwx.xyz/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="git" scheme="http://www.xianwx.xyz/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>Android设置应用启动页</title>
    <link href="http://www.xianwx.xyz/2018/07/19/android-slash/"/>
    <id>http://www.xianwx.xyz/2018/07/19/android-slash/</id>
    <published>2018-07-19T03:34:12.000Z</published>
    <updated>2018-07-19T03:42:58.675Z</updated>
    
    <content type="html"><![CDATA[<p>最简单的方法无非是在游戏里设置……这样苹果和安卓都有了，还好加各种特效。<br>重点说一下给安卓加启动图，思路是：加一个新的activity，sleep一会儿，再跳到主activity。<br>好，新建一个activity叫SplashActivity，继承自Activity，不要继承自cocos的activity，它会自动去帮你走AppDelegate……<br>参考以下代码：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Override</span></div><div class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</div><div class="line">    <span class="keyword">super</span>.onCreate(savedInstanceState);</div><div class="line">    getWindow().addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN);</div><div class="line">    <span class="comment">// 常亮</span></div><div class="line">    getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);</div><div class="line"></div><div class="line">    <span class="comment">// 横屏旋转</span></div><div class="line">    setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_SENSOR_LANDSCAPE);</div><div class="line"></div><div class="line">    <span class="comment">//隐藏虚拟按键，并且全屏</span></div><div class="line">    <span class="keyword">final</span> Window window = getWindow();</div><div class="line">    setHideVirtualKey(window);</div><div class="line">    window.getDecorView().setOnSystemUiVisibilityChangeListener(<span class="keyword">new</span> View.OnSystemUiVisibilityChangeListener() &#123;</div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onSystemUiVisibilityChange</span><span class="params">(<span class="keyword">int</span> visibility)</span> </span>&#123;</div><div class="line">            setHideVirtualKey(window);</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line"></div><div class="line">    Log.i(<span class="string">"LUA"</span>, <span class="string">"on splash activity create"</span>);</div><div class="line">           <span class="comment">/*mainLayout初始化*/</span></div><div class="line"></div><div class="line">    LinearLayout mainLayout = <span class="keyword">new</span> LinearLayout(<span class="keyword">this</span>);</div><div class="line">    mainLayout.setBackgroundColor(Color.WHITE);</div><div class="line">    mainLayout.setLayoutParams(<span class="keyword">new</span> LinearLayout.LayoutParams(-<span class="number">1</span>,-<span class="number">1</span>));</div><div class="line">    mainLayout.setGravity(<span class="number">17</span>); <span class="comment">// 17 的意义是 "CENTER"</span></div><div class="line">    <span class="comment">/*iv初始化*/</span></div><div class="line">    ImageView iv = <span class="keyword">new</span> ImageView(<span class="keyword">this</span>);</div><div class="line">    iv.setLayoutParams(<span class="keyword">new</span> LinearLayout.LayoutParams(-<span class="number">1</span>,-<span class="number">2</span>));</div><div class="line">    iv.setScaleType(ImageView.ScaleType.CENTER);<span class="comment">//居中显示</span></div><div class="line">    <span class="keyword">int</span> resId=<span class="keyword">this</span>.getResources().getIdentifier(<span class="string">"bg"</span>,<span class="string">"drawable"</span>,getPackageName());</div><div class="line">    iv.setImageResource(resId);</div><div class="line">    mainLayout.addView(iv);<span class="comment">//添加iv</span></div><div class="line">    setContentView(mainLayout);<span class="comment">//显示manLayout</span></div><div class="line"></div><div class="line">    Thread myThread=<span class="keyword">new</span> Thread()&#123;<span class="comment">//创建子线程</span></div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</div><div class="line">            <span class="keyword">try</span>&#123;</div><div class="line">                sleep(<span class="number">2000</span>);<span class="comment">//使程序休眠五秒</span></div><div class="line">                Log.i(<span class="string">"LUA"</span>, <span class="string">"splash sleep end"</span>);</div><div class="line">                Intent it=<span class="keyword">new</span> Intent(getApplicationContext(), AppActivity.class);<span class="comment">//启动MainActivity</span></div><div class="line">                startActivity(it);</div><div class="line">                finish();<span class="comment">//关闭当前活动</span></div><div class="line">            &#125;<span class="keyword">catch</span> (Exception e)&#123;</div><div class="line">                e.printStackTrace();</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line"></div><div class="line">    myThread.start();<span class="comment">//启动线程</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setHideVirtualKey</span><span class="params">(Window window)</span></span>&#123;</div><div class="line">    <span class="comment">//保持布局状态</span></div><div class="line">    <span class="keyword">int</span> uiOptions = View.SYSTEM_UI_FLAG_LAYOUT_STABLE|</div><div class="line">            <span class="comment">//布局位于状态栏下方</span></div><div class="line">            View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION|</div><div class="line">            <span class="comment">//全屏</span></div><div class="line">            View.SYSTEM_UI_FLAG_FULLSCREEN|</div><div class="line">            <span class="comment">//隐藏导航栏</span></div><div class="line">            View.SYSTEM_UI_FLAG_HIDE_NAVIGATION|</div><div class="line">            View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN;</div><div class="line">    <span class="keyword">if</span> (Build.VERSION.SDK_INT&gt;=<span class="number">19</span>)&#123;</div><div class="line">        uiOptions |= <span class="number">0x00001000</span>;</div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">        uiOptions |= View.SYSTEM_UI_FLAG_LOW_PROFILE;</div><div class="line">    &#125;</div><div class="line">    window.getDecorView().setSystemUiVisibility(uiOptions);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="meta">@Override</span></div><div class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onResume</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">super</span>.onResume();</div><div class="line">    <span class="keyword">final</span> Window window = getWindow();</div><div class="line">    setHideVirtualKey(window);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>大概做的事情就是，创建一个layout，然后在layout里创建一个ImageView，图片为bg，为了使ImageView居中，所以设置了父控件的gravity，显示完了，创建一个线程，sleep2秒钟，跳到AppActivity，splash这个activity横屏且隐藏状态栏和虚拟按钮。<br>最后，记得把<strong>AndroidManifest</strong>里的启动activity换成新建的这个activity。</p>
<p>另外，为了让苹果的启动图时间久一点，可以在didFinishLaunchingWithOptions里加上一句<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">// 启动图片延时: 1秒</div><div class="line">[NSThread sleepForTimeInterval:1];</div></pre></td></tr></table></figure></p>
<p>经实测，1秒的效果蛮好的。</p>
]]></content>
    
    <summary type="html">
    
      Logo还是要的嘛，虽然安卓喜欢不要脸的……
    
    </summary>
    
      <category term="技术学习" scheme="http://www.xianwx.xyz/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="Android" scheme="http://www.xianwx.xyz/tags/Android/"/>
    
      <category term="quick cocos" scheme="http://www.xianwx.xyz/tags/quick-cocos/"/>
    
  </entry>
  
  <entry>
    <title>Node如何处理POST请求</title>
    <link href="http://www.xianwx.xyz/2018/07/19/node-deal-post/"/>
    <id>http://www.xianwx.xyz/2018/07/19/node-deal-post/</id>
    <published>2018-07-19T03:16:55.000Z</published>
    <updated>2018-07-19T03:26:02.693Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// auth.js</span></div><div class="line"><span class="keyword">var</span> url = <span class="built_in">require</span>(<span class="string">'url'</span>);</div><div class="line"><span class="keyword">var</span> querystring = <span class="built_in">require</span>(<span class="string">'querystring'</span>);</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">auth</span>(<span class="params">req, res</span>) </span>&#123;</div><div class="line"></div><div class="line">    <span class="comment">//暂存请求体信息</span></div><div class="line">    <span class="keyword">var</span> body = <span class="string">""</span>;</div><div class="line"> </div><div class="line">    <span class="comment">//请求链接</span></div><div class="line">    <span class="built_in">console</span>.log(req.url);</div><div class="line"> </div><div class="line">    <span class="comment">//每当接收到请求体数据，累加到post中</span></div><div class="line">    req.on(<span class="string">'data'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">chunk</span>) </span>&#123;</div><div class="line">        body += chunk;  <span class="comment">//一定要使用+=，如果body=chunk，因为请求favicon.ico，body会等于&#123;&#125;</span></div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"chunk:"</span>,chunk);</div><div class="line">    &#125;);</div><div class="line"> </div><div class="line">    <span class="comment">//在end事件触发后，通过querystring.parse将post解析为真正的POST请求格式，然后向客户端返回。</span></div><div class="line">    req.on(<span class="string">'end'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="comment">// 解析参数</span></div><div class="line">        body = querystring.parse(body);  <span class="comment">//将一个字符串反序列化为一个对象</span></div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"body:"</span>,body);</div><div class="line"></div><div class="line">        <span class="comment">// 设置响应头部信息及编码</span></div><div class="line">        res.writeHead(<span class="number">200</span>, &#123;<span class="string">'Content-Type'</span>: <span class="string">'text/html; charset=utf8'</span>&#125;);</div><div class="line">        <span class="keyword">var</span> data = &#123;<span class="string">"code"</span>:<span class="number">200</span>, <span class="string">"msg"</span>:<span class="string">"success"</span>, <span class="string">"token"</span>:<span class="string">"token_"</span> + body.username + <span class="string">"_"</span> + body.password&#125;;</div><div class="line">        res.end(<span class="built_in">JSON</span>.stringify(data));</div><div class="line">    &#125;);</div><div class="line">&#125;</div><div class="line">exports.auth = auth;</div></pre></td></tr></table></figure>
<p><img src="/images/9F401EAC8A9114C972DCC8812E80871D.png" alt=""></p>
]]></content>
    
    <summary type="html">
    
      不给参数就捣蛋！
    
    </summary>
    
      <category term="技术学习" scheme="http://www.xianwx.xyz/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="http" scheme="http://www.xianwx.xyz/tags/http/"/>
    
      <category term="Node" scheme="http://www.xianwx.xyz/tags/Node/"/>
    
  </entry>
  
  <entry>
    <title>Node使用路由的方式处理请求</title>
    <link href="http://www.xianwx.xyz/2018/07/19/http-route/"/>
    <id>http://www.xianwx.xyz/2018/07/19/http-route/</id>
    <published>2018-07-19T03:03:58.000Z</published>
    <updated>2018-07-19T03:16:06.030Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> auth = <span class="built_in">require</span>(<span class="string">'./auth'</span>);</div><div class="line">http.createServer(<span class="function"><span class="keyword">function</span>(<span class="params">request, response</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> pathname = url.parse(request.url).pathname;</div><div class="line">    <span class="keyword">var</span> routeurl = &#123;</div><div class="line">        <span class="string">'/auth'</span> : auth.auth</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    connection.connect();</div><div class="line"></div><div class="line">    <span class="keyword">if</span>( <span class="keyword">typeof</span> routeurl[pathname]=== <span class="string">'function'</span> )&#123;</div><div class="line">        routeurl[pathname](request, response);</div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'404 not found!'</span>);</div><div class="line">        response.end();</div><div class="line">    &#125;</div><div class="line">&#125;).listen(<span class="number">3000</span>);</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'server has started...'</span>);</div></pre></td></tr></table></figure>
<p>这样可以单独在auth文件里处理auth的逻辑，不用写一大堆东西在一个文件里了。</p>
]]></content>
    
    <summary type="html">
    
      你干你的，我干我的，互不相干。
    
    </summary>
    
      <category term="技术学习" scheme="http://www.xianwx.xyz/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="http" scheme="http://www.xianwx.xyz/tags/http/"/>
    
      <category term="Node" scheme="http://www.xianwx.xyz/tags/Node/"/>
    
  </entry>
  
  <entry>
    <title>Node连接MySQL</title>
    <link href="http://www.xianwx.xyz/2018/07/19/node-connect-mysql/"/>
    <id>http://www.xianwx.xyz/2018/07/19/node-connect-mysql/</id>
    <published>2018-07-19T03:01:58.000Z</published>
    <updated>2018-07-19T03:03:55.815Z</updated>
    
    <content type="html"><![CDATA[<h1 id="安装MySQL"><a href="#安装MySQL" class="headerlink" title="安装MySQL"></a>安装MySQL</h1><h2 id="参考mysql安装，装5-7-22版本，注意它提示的密码，保存下来。"><a href="#参考mysql安装，装5-7-22版本，注意它提示的密码，保存下来。" class="headerlink" title="参考mysql安装，装5.7.22版本，注意它提示的密码，保存下来。"></a>参考<a href="https://blog.csdn.net/RunIntoLove/article/details/51422787" target="_blank" rel="external">mysql安装</a>，装5.7.22版本，注意它提示的密码，保存下来。</h2><h2 id="gui的使用参考MySQL-Workbench使用"><a href="#gui的使用参考MySQL-Workbench使用" class="headerlink" title="gui的使用参考MySQL Workbench使用"></a>gui的使用参考<a href="https://www.jianshu.com/p/dc58a4efdd84" target="_blank" rel="external">MySQL Workbench使用</a></h2><h1 id="Node-js里连接MySQL"><a href="#Node-js里连接MySQL" class="headerlink" title="Node.js里连接MySQL"></a>Node.js里连接MySQL</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> mysql = <span class="built_in">require</span>(<span class="string">'mysql'</span>);</div><div class="line"><span class="keyword">var</span> connection = mysql.createConnection(&#123;</div><div class="line">    host        : <span class="string">'127.0.0.1'</span>,</div><div class="line">    port        : <span class="number">3306</span>,</div><div class="line">    user        : <span class="string">'root'</span>,</div><div class="line">    password    : <span class="string">'5429943'</span>,</div><div class="line">    database    : <span class="string">'center'</span></div><div class="line">&#125;);</div><div class="line"></div><div class="line">connection.connect();</div></pre></td></tr></table></figure>
<h1 id="相关报错处理"><a href="#相关报错处理" class="headerlink" title="相关报错处理"></a>相关报错处理</h1><p>对于报错：<code>Cannot find module &#39;mysql&#39; node.js</code><br>只需要执行：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ln <span class="_">-s</span> /usr/<span class="built_in">local</span>/lib/node_modules /YOURPROJECTFOLDER/</div></pre></td></tr></table></figure></p>
<p>在安装完成MySQL后，先去使用<code>MySQL Workbench</code>修改密码。</p>
]]></content>
    
    <summary type="html">
    
      出来混的，总是要存的。
    
    </summary>
    
      <category term="技术学习" scheme="http://www.xianwx.xyz/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="http" scheme="http://www.xianwx.xyz/tags/http/"/>
    
      <category term="Node" scheme="http://www.xianwx.xyz/tags/Node/"/>
    
  </entry>
  
  <entry>
    <title>怎么使用curl模拟http请求</title>
    <link href="http://www.xianwx.xyz/2018/07/19/how-to-use-curl/"/>
    <id>http://www.xianwx.xyz/2018/07/19/how-to-use-curl/</id>
    <published>2018-07-19T02:55:44.000Z</published>
    <updated>2018-07-19T02:59:17.666Z</updated>
    
    <content type="html"><![CDATA[<p>get方式请求：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl 地址:端口/路由</div></pre></td></tr></table></figure></p>
<p>e.g:<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl 127.0.0.1:3000/test_sql</div></pre></td></tr></table></figure></p>
<p>post方式请求：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -X POST <span class="_">-d</span> <span class="string">"参数名=实参&amp;参数名=实参"</span> 地址:端口/路由</div></pre></td></tr></table></figure></p>
<p>e.g:<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -X POST <span class="_">-d</span> <span class="string">"username=xianwx&amp;password=test"</span> 127.0.0.1:3000/auth</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      我不仅仅是个伪装者，我是D员！（嘘）
    
    </summary>
    
      <category term="技术学习" scheme="http://www.xianwx.xyz/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="http" scheme="http://www.xianwx.xyz/tags/http/"/>
    
      <category term="Node" scheme="http://www.xianwx.xyz/tags/Node/"/>
    
  </entry>
  
  <entry>
    <title>Node学习记录</title>
    <link href="http://www.xianwx.xyz/2018/07/19/node-learn-record/"/>
    <id>http://www.xianwx.xyz/2018/07/19/node-learn-record/</id>
    <published>2018-07-19T02:22:25.000Z</published>
    <updated>2018-07-19T06:11:20.013Z</updated>
    
    <content type="html"><![CDATA[<h1 id="开启HTTP服务器"><a href="#开启HTTP服务器" class="headerlink" title="开启HTTP服务器"></a>开启HTTP服务器</h1><a href="/2018/07/19/node-start-server/" title="Node开启一个HTTP服务器">Node开启一个HTTP服务器</a>
<h1 id="如何使用curl"><a href="#如何使用curl" class="headerlink" title="如何使用curl"></a>如何使用curl</h1><a href="/2018/07/19/how-to-use-curl/" title="怎么使用curl模拟http请求">怎么使用curl模拟http请求</a>
<h1 id="Node如何使用路由形式"><a href="#Node如何使用路由形式" class="headerlink" title="Node如何使用路由形式"></a>Node如何使用路由形式</h1><a href="/2018/07/19/http-route/" title="Node使用路由的方式处理请求">Node使用路由的方式处理请求</a>
<h1 id="Node如何处理POST请求"><a href="#Node如何处理POST请求" class="headerlink" title="Node如何处理POST请求"></a>Node如何处理POST请求</h1><a href="/2018/07/19/node-deal-post/" title="Node如何处理POST请求">Node如何处理POST请求</a>
<h1 id="Node如何连接MySQL"><a href="#Node如何连接MySQL" class="headerlink" title="Node如何连接MySQL"></a>Node如何连接MySQL</h1><a href="/2018/07/19/node-connect-mysql/" title="Node连接MySQL">Node连接MySQL</a>
<h1 id="看书心得"><a href="#看书心得" class="headerlink" title="看书心得"></a>看书心得</h1><ul>
<li>Node有很多别称，Nodejs，Node.js，NodeJS等，都可以表明它是Node</li>
<li>设计高性能Web服务器的几个要点：事件驱动，非阻塞I/O</li>
<li>ajax的全称是AsynchronousJavascript+XML。即：异步传输+js+XML。是一种技术，只要是这样做的都可以称为ajax请求。</li>
<li>CommonJS规范的提出。</li>
</ul>
<p>—————————我是萌萌哒的分割线—————————</p>
<ul>
<li>上下文提供了exports对象用于导出当前模块的方法或者变量，并且是它唯一的导出的出口。</li>
<li>在Node中一个文件就是一个模块，在模块中存在一个module对象，它代表模块自身，exports也是module的属性。将方法挂载在exports对象上作为属性即可定义导出的方式。</li>
</ul>
]]></content>
    
    <summary type="html">
    
      记录自己的无知、愚蠢以及碎碎念。
    
    </summary>
    
      <category term="技术学习" scheme="http://www.xianwx.xyz/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="http" scheme="http://www.xianwx.xyz/tags/http/"/>
    
      <category term="Node" scheme="http://www.xianwx.xyz/tags/Node/"/>
    
  </entry>
  
  <entry>
    <title>Node开启一个HTTP服务器</title>
    <link href="http://www.xianwx.xyz/2018/07/19/node-start-server/"/>
    <id>http://www.xianwx.xyz/2018/07/19/node-start-server/</id>
    <published>2018-07-19T02:16:51.000Z</published>
    <updated>2018-07-19T02:21:20.157Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> http = <span class="built_in">require</span> (<span class="string">'http'</span>);</div><div class="line"></div><div class="line">http.createServer(<span class="function"><span class="keyword">function</span>(<span class="params">request, response</span>)</span>&#123;&#125;).listen(<span class="number">3000</span>);</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'server has started...'</span>);</div></pre></td></tr></table></figure>
<p>这样就成功开启了http的服务器，还可以看到命令台输出’server has started’。</p>
]]></content>
    
    <summary type="html">
    
      最简单的
    
    </summary>
    
      <category term="技术学习" scheme="http://www.xianwx.xyz/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="http" scheme="http://www.xianwx.xyz/tags/http/"/>
    
      <category term="Node" scheme="http://www.xianwx.xyz/tags/Node/"/>
    
  </entry>
  
  <entry>
    <title>对远程服务器利用ssh传输文件</title>
    <link href="http://www.xianwx.xyz/2018/07/18/ssh-copy/"/>
    <id>http://www.xianwx.xyz/2018/07/18/ssh-copy/</id>
    <published>2018-07-18T10:37:29.000Z</published>
    <updated>2018-07-18T10:39:30.960Z</updated>
    
    <content type="html"><![CDATA[<h1 id="scp"><a href="#scp" class="headerlink" title="scp"></a>scp</h1><p>利用scp传输文件：</p>
<p>传输本地文件到远端：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">scp /path/filename username@servername:/path</div></pre></td></tr></table></figure></p>
<p>e.g：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">scp ~/Downloads/skynetx-ubuntu-v2.0.29.tar.gz ubuntu@你猜ip是啥:~/code/</div></pre></td></tr></table></figure></p>
<p>然后输个密码就好了。</p>
<p>传输远端文件到本地：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cp username@servername:/path/filename /var/www/local_dir（本地目录）</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      ssh这么好用的吗！
    
    </summary>
    
      <category term="技术学习" scheme="http://www.xianwx.xyz/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="Linux" scheme="http://www.xianwx.xyz/tags/Linux/"/>
    
      <category term="Mac" scheme="http://www.xianwx.xyz/tags/Mac/"/>
    
      <category term="ssh" scheme="http://www.xianwx.xyz/tags/ssh/"/>
    
  </entry>
  
  <entry>
    <title>给云服务器安装HTTP服务器</title>
    <link href="http://www.xianwx.xyz/2018/07/18/http-server-on-origin-linux/"/>
    <id>http://www.xianwx.xyz/2018/07/18/http-server-on-origin-linux/</id>
    <published>2018-07-18T10:33:08.000Z</published>
    <updated>2018-07-18T10:36:48.339Z</updated>
    
    <content type="html"><![CDATA[<ol>
<li>Node的安装<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">curl <span class="_">-s</span>L https://deb.nodesource.com/setup_9.x | sudo -E bash -</div><div class="line">sudo apt-get install -y nodejs</div></pre></td></tr></table></figure>
</li>
</ol>
<p>这种安装方法的好处是：直接安装在系统环境/usr/bin目录下，之后使用npm -g安装其他插件也会安装到/usr/lib/node_modules(需要使用sudo权限)</p>
<ol>
<li><p>软链接到项目文件夹下边</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ln <span class="_">-s</span> /usr/lib/node_modules /YOUR_PROJ/</div></pre></td></tr></table></figure>
</li>
<li><p>安装MySQL：使用下面三行命令：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install mysql-server sudo apt install mysql-client sudo apt install libmysqlclient-dev</div></pre></td></tr></table></figure>
</li>
<li><p>使用命令检查MySQL的安装是否成功：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo netstat -tap | grep mysql</div></pre></td></tr></table></figure>
</li>
<li><p>使用以下命令进入MySQL状态：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mysql -uroot -p你的密码</div></pre></td></tr></table></figure>
</li>
<li><p>为了可以远程访问MySQL，修改配置：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo vi /etc/mysql/mysql.conf.d/mysqld.cnf</div></pre></td></tr></table></figure>
</li>
</ol>
<p>注释掉<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">bind-address = 127.0.0.1</div></pre></td></tr></table></figure></p>
<p>wq保存退出</p>
<ol>
<li><p>重新进入MySQL命令状态，执行以下两条代码：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">grant all on *.* to root@<span class="string">'%'</span> identified by <span class="string">'你的密码'</span> with grant option;</div><div class="line">flush privileges;</div></pre></td></tr></table></figure>
</li>
<li><p>quit MySQL命令行，执行重启命令：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo /etc/init.d/mysql restart</div></pre></td></tr></table></figure>
</li>
</ol>
<p>命令汇总：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo /etc/init.d/mysql start</div><div class="line">sudo /etc/init.d/mysql stop</div><div class="line">sudo /etc/init.d/mysql restart</div></pre></td></tr></table></figure></p>
<ol>
<li>使用MySQL workbench连接远程数据库执行创建数据库等操作。</li>
<li><p>给Node安装MySQL插件</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo npm install -g mysql</div></pre></td></tr></table></figure>
</li>
<li><p>启动http服务器</p>
</li>
</ol>
]]></content>
    
    <summary type="html">
    
      我们不仅没有返回，而且还没有响应。
    
    </summary>
    
      <category term="技术学习" scheme="http://www.xianwx.xyz/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="http" scheme="http://www.xianwx.xyz/tags/http/"/>
    
      <category term="server" scheme="http://www.xianwx.xyz/tags/server/"/>
    
      <category term="Linux" scheme="http://www.xianwx.xyz/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>给远程云服务器部署skynet服务器</title>
    <link href="http://www.xianwx.xyz/2018/07/18/skynet-server-on-origin-linux/"/>
    <id>http://www.xianwx.xyz/2018/07/18/skynet-server-on-origin-linux/</id>
    <published>2018-07-18T10:25:42.000Z</published>
    <updated>2018-07-18T10:32:36.811Z</updated>
    
    <content type="html"><![CDATA[<p>为了给策划能够外网调试，租了一台云服务器用来部署猫与剑的服务器，算是个备忘录吧，以及介绍如何在远程服务器上部署跟skynet有关的服务器。</p>
<ol>
<li>clone 代码</li>
<li><p>给Ubuntu安装brew，命令：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt install linuxbrew-wrapper</div></pre></td></tr></table></figure>
</li>
<li><p>执行一下brew，等待成功。(不成功多试几次)</p>
</li>
<li><p>执行命令，修改环境变量：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">export</span> PATH=<span class="string">"/home/ubuntu/.linuxbrew/bin:<span class="variable">$PATH</span>"</span></div></pre></td></tr></table></figure>
</li>
<li><p>brew前置命令：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">brew doctor</div></pre></td></tr></table></figure>
</li>
<li><p>安装luarocks，执行命令：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt install luarocks</div></pre></td></tr></table></figure>
</li>
<li><p>安装luarocks，执行命令 ： </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">luarocks install busted</div></pre></td></tr></table></figure>
</li>
<li><p>安装luacheck，执行命令：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">luarocks install luacheck</div></pre></td></tr></table></figure>
</li>
</ol>
<p>以上2条命令不行就加上sudo）</p>
<ol>
<li>下载sx.tar.gz。(在我coding里有存着)</li>
<li><p>安装skynetx，执行命令：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo tar -ovxzf code/skynetx-ubuntu-v2.0.29.tar.gz -C /usr --strip-components 1</div></pre></td></tr></table></figure>
</li>
<li><p>我们游戏还需要个HTTP服务器，需要安装Node<br>[更新]Nodejs的安装使用其它方式，不采用下面做法了。<br><del>12. 安装Node，命令：sudo apt-get install nodejs</del><br><del>13. 安装npm，命令：sudo apt-get install npm</del><br><del>14. 安装完毕，可以执行nodejs —version查看安装结果</del><br><del>15. 这里使用的nodejs命令比较麻烦，想使用平常用的node命令，可以使用sudo ln -s /usr/bin/nodejs /usr/bin/node来软连接nodejs 到node</del></p>
</li>
</ol>
]]></content>
    
    <summary type="html">
    
      不是私服，不是私服，不是私服。
    
    </summary>
    
      <category term="技术学习" scheme="http://www.xianwx.xyz/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="server" scheme="http://www.xianwx.xyz/tags/server/"/>
    
      <category term="Linux" scheme="http://www.xianwx.xyz/tags/Linux/"/>
    
      <category term="skynet" scheme="http://www.xianwx.xyz/tags/skynet/"/>
    
  </entry>
  
  <entry>
    <title>Linux root用户</title>
    <link href="http://www.xianwx.xyz/2018/07/18/root-user/"/>
    <id>http://www.xianwx.xyz/2018/07/18/root-user/</id>
    <published>2018-07-18T10:22:19.000Z</published>
    <updated>2018-07-18T10:24:53.389Z</updated>
    
    <content type="html"><![CDATA[<p>有时候在Linux上执行命令会碰到”Permission denied, are you root?”这种报错，这代表我们需要进入root用户执行命令，可以使用以下命令进入root<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo -i</div></pre></td></tr></table></figure></p>
<p>在root用户状态下，输入命令exit退出root用户状态。</p>
<p>尤其跟别人共用一台云服务器的时候，好刺激。</p>
]]></content>
    
    <summary type="html">
    
      我是老大，你们都得听我的。
    
    </summary>
    
      <category term="技术学习" scheme="http://www.xianwx.xyz/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="Linux" scheme="http://www.xianwx.xyz/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>tmux的使用</title>
    <link href="http://www.xianwx.xyz/2018/07/18/tmux/"/>
    <id>http://www.xianwx.xyz/2018/07/18/tmux/</id>
    <published>2018-07-18T10:16:47.000Z</published>
    <updated>2018-07-18T10:21:53.153Z</updated>
    
    <content type="html"><![CDATA[<p>最近在给猫与剑做服务器，租了一台腾讯云服务器，要在上边搭建，每次ssh过去发现看不到log，不好创建tab等等问题，于是找了这个神器。</p>
<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p>在Mac上也可以使用tmux，想尝鲜可以在Mac上先安起来，安装方式：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">brew install tmux</div></pre></td></tr></table></figure></p>
<h1 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h1><p>tmux简单来说就是终端里的『窗口管理器』，如果我使用终端登录到远程主机并运行前台程序，那么这个窗口等于就被占用了，想要看一下 CPU 的使用率，就得再连接一次。但是如果在远程主机上运行 tmux，那么就可以开启多个控制台（类似于窗口），相当高效。如果想查看之前执行命令的log，比如redis的输出等，就很方便了。</p>
<p>Seesion 可以有效地分离工作环境。</p>
<ul>
<li><p>tmux new -s session_name<br>创建一个叫做 session_name 的 tmux session</p>
</li>
<li><p>tmux attach -t session_name<br>重新开启叫做 session_name 的 tmux session</p>
</li>
<li><p>tmux switch -t session_name<br>转换到叫做 session_name 的 tmux session</p>
</li>
<li><p>tmux list-sessions<br>列出现有的所有 session</p>
</li>
<li><p>tmux detach (prefix + d)<br>离开当前开启的 session</p>
</li>
</ul>
<p>我使用tmux new -s work创建一个叫work的session，关闭当前标签页，再使用tmux attach -t work，就可以重新看到之前的tmux session。</p>
<p>Tmux 有一个含有标签的界面，但是它命名这些标签为 “Windows”。为了保持有序，可以重新命名所有我使用的 windows；</p>
<ul>
<li><p>tmux new-window (perfix + c)<br>创建一个新的 window</p>
</li>
<li><p>tmux select-window -t :0-9 (perfix + 0-9)<br>根据索引转到该 window</p>
</li>
<li><p>tmux rename-window (perfix + ,)<br>重命名当前 window</p>
</li>
</ul>
<p>perfix为tmux的命令行模式，默认是Ctrl+b，比如new window，可以先按Ctrl+b，然后输入c。</p>
<p>tmux模式下，tmux会监管鼠标的滚动事件。所以没法使用鼠标上下滚动看屏幕输出，这时候可以：</p>
<ul>
<li>Ctrl+b，输入:，即可进入命令行模式。</li>
<li>输入命令：<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">setw -g mouse on</div></pre></td></tr></table></figure>
</li>
</ul>
<p>如果以上命令想使用配置文件配置，load配置文件的时候出现unknown option: mode-mouse错误；<br>可以用</p>
<p>set-option -g mouse on<br>代替以上代码就OK了！</p>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p>参考资料：</p>
<ul>
<li><a href="http://blog.jeswang.org/blog/2013/06/24/tmux-kuai-su-jiao-cheng/" target="_blank" rel="external">Tmux 快速教程</a></li>
<li><a href="https://wdxtub.com/2016/03/30/tmux-guide/" target="_blank" rel="external">tmux指南</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      对Linux宝具，tmux咖喱棒！
    
    </summary>
    
      <category term="技术学习" scheme="http://www.xianwx.xyz/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="tmux" scheme="http://www.xianwx.xyz/tags/tmux/"/>
    
  </entry>
  
  <entry>
    <title>解决Gradle project sync failed. Please fix your project and try again.</title>
    <link href="http://www.xianwx.xyz/2018/07/18/fix-gradle-project-sync-failed/"/>
    <id>http://www.xianwx.xyz/2018/07/18/fix-gradle-project-sync-failed/</id>
    <published>2018-07-18T10:09:49.000Z</published>
    <updated>2018-07-18T10:15:38.918Z</updated>
    
    <content type="html"><![CDATA[<p>点击tools->Android->Sync Project with Gradle Files.</p>
<p><img src="/images/2BBAF29B400EFFD28042FC244416C659.jpg" alt=""></p>
]]></content>
    
    <summary type="html">
    
      偶尔会碰到的Android studio的傲娇
    
    </summary>
    
      <category term="技术学习" scheme="http://www.xianwx.xyz/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="Android" scheme="http://www.xianwx.xyz/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>Mac使用记录</title>
    <link href="http://www.xianwx.xyz/2018/07/18/mac-command/"/>
    <id>http://www.xianwx.xyz/2018/07/18/mac-command/</id>
    <published>2018-07-18T09:48:48.000Z</published>
    <updated>2018-07-18T10:04:44.209Z</updated>
    
    <content type="html"><![CDATA[<p>为了拥有友好的开发环境，毅然选择了Mac，现在60键的键盘爽到飞起。<br>扯远了扯远了，还是正经记录吧。</p>
<h1 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h1><p>如果不管命令执行是否成功都往下执行，可以用;分割多个语句放在一行执行，如果希望前面的执行成功才执行后面的语句，用&amp;&amp;分割语句。</p>
<p>在 fish里 &amp;&amp; 用 and代替</p>
<p>在macOS High Sierra里，finder可以用快捷键来显示和隐藏文件夹了：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Command + Shift + .</div></pre></td></tr></table></figure></p>
<p>或者使用命令：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">defaults write com.apple.finder AppleShowAllFiles -bool <span class="literal">true</span></div></pre></td></tr></table></figure></p>
<h1 id="ftp命令"><a href="#ftp命令" class="headerlink" title="ftp命令"></a>ftp命令</h1><p>Mac系统10.x过后没有ftp命令，用以下3个命令开起来：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">brew install telnet</div><div class="line">brew install inetutils</div><div class="line">brew link --overwrite inetutils</div></pre></td></tr></table></figure>
<h1 id="MySQL-workbench的使用"><a href="#MySQL-workbench的使用" class="headerlink" title="MySQL workbench的使用"></a>MySQL workbench的使用</h1><p>1. 创建连接</p>
<p><img src="/images/35B48DAD4E40D85B51F961F42CFDDD2A.jpg" alt=""></p>
<p>2. 创建默认的schema<br><img src="/images/14D6CC4556F6F4E73E2FB578D0D2F26E.jpg" alt=""></p>
<p>3. 右键新创建的schema，set as default schema</p>
<p>4. 可以开始创建table了。</p>
]]></content>
    
    <summary type="html">
    
      使用Mac的时候碰到的一些事情的记录。
    
    </summary>
    
      <category term="技术学习" scheme="http://www.xianwx.xyz/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="Mac" scheme="http://www.xianwx.xyz/tags/Mac/"/>
    
  </entry>
  
  <entry>
    <title>LuaJavaBridge</title>
    <link href="http://www.xianwx.xyz/2018/06/05/LuaJavaBridge/"/>
    <id>http://www.xianwx.xyz/2018/06/05/LuaJavaBridge/</id>
    <published>2018-06-05T02:06:04.000Z</published>
    <updated>2018-06-05T03:44:48.738Z</updated>
    
    <content type="html"><![CDATA[<p>用quick cocos开发游戏的时候，如果你有接入过SDK，或者做过复制到剪贴板，获取设备信息等，肯定就会碰到Lua调用Java层的需求。<br>于是就需要用到：LuaJavaBridge。</p>
<p>在使用require “framework”过后，可以直接使用luaj（具体可以查看luaj.lua）<br>这篇文章主要记录如何使用。</p>
<h2 id="1-使用"><a href="#1-使用" class="headerlink" title="1. 使用"></a>1. 使用</h2><p>luaj和luaoc都是调用的static方法<br>所以，在Java层加上一个public的static方法，如：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testLuaj</span><span class="params">()</span></span>&#123;</div><div class="line">    Log.i(<span class="string">"Luaj"</span>, <span class="string">"testLuaj"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>quick cocos运行的主activity是AppActivity，完整类名称为：org/cocos2dx/lua/AppActivity<br>所以，在lua层可以使用如下代码调用：<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">luaj.callStaticMethod(<span class="string">"org/cocos2dx/lua/AppActivity"</span>,<span class="string">"testLuaj"</span>,&#123;&#125;,<span class="string">"()V"</span>)</div></pre></td></tr></table></figure></p>
<h2 id="2-参数介绍"><a href="#2-参数介绍" class="headerlink" title="2. 参数介绍"></a>2. 参数介绍</h2><p>第一个参数是完整的类名称，“.”需要使用“/”，如”org/cocos2dx/lua/AppActivity”<br>第二个参数是方法名，如”testLuaj”<br>第三个参数是参数，无参数的时候使用空table<br>第四个参数指定参数的类型和返回类型的签名</p>
<h2 id="3-参数类型"><a href="#3-参数类型" class="headerlink" title="3. 参数类型"></a>3. 参数类型</h2><p>签名                                         解释<br>()V                             参数：无，返回值：无<br>(I)V                            参数：int，返回值：无<br>(Ljava/lang/String;)Z           参数：字符串，返回值：布尔值<br>(IF)Ljava/lang/String;          参数：整数、浮点数，返回值：字符串</p>
<p>类型名                 类型<br>I                       整数，或者 Lua function<br>F                       浮点数<br>Z                       布尔值<br>Ljava/lang/String;      字符串<br>V                       Void 空，仅用于指定一个 Java 方法不返回任何值</p>
<h2 id="4-error-code"><a href="#4-error-code" class="headerlink" title="4. error code"></a>4. error code</h2><p>错误代码                            描述<br>-1                          不支持的参数类型或返回值类型<br>-2                          无效的签名<br>-3                          没有找到指定的方法<br>-4                          Java 方法执行时抛出了异常<br>-5                          Java 虚拟机出错<br>-6                          Java 虚拟机出错</p>
<ul>
<li>附：参数类型和error code懒得自己写，从<a href="https://blog.csdn.net/li15225271052/article/details/70148609" target="_blank" rel="external">Vincent__Lee的CSDN博客</a>拷贝过来的。</li>
</ul>
<h2 id="5-返回值"><a href="#5-返回值" class="headerlink" title="5. 返回值"></a>5. 返回值</h2><p>luaj有两个返回值，一个是调用结果，一个是返回值。<br>如：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getProvider</span><span class="params">()</span></span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">"TapTap"</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">-- Ljava/lang/String;的;是不可省略的</span></div><div class="line"><span class="keyword">local</span> ok, result = luaj.callStaticMethod(<span class="string">"org/cocos2dx/lua/AppActivity"</span>, <span class="string">"getProvider"</span>, &#123;&#125;, <span class="string">"()Ljava/lang/String;"</span>)</div><div class="line"><span class="built_in">print</span>(<span class="string">"执行结果："</span>, ok)</div><div class="line"><span class="built_in">print</span>(<span class="string">"provider: "</span>, result)</div></pre></td></tr></table></figure>
<h2 id="6-特别介绍"><a href="#6-特别介绍" class="headerlink" title="6. 特别介绍"></a>6. 特别介绍</h2><p>可以将lua的方法作为int类型参数传入Java方法<br>也可以把table转换为json传入<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testLuaCallback</span><span class="params">(<span class="keyword">final</span> <span class="keyword">int</span> callback, <span class="keyword">final</span> String args)</span></span>&#123;</div><div class="line">    AppActivity.activity.runOnUiThread(<span class="keyword">new</span> Runnable() &#123;</div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</div><div class="line">            <span class="keyword">try</span> &#123;</div><div class="line">                JSONObject argsJ = <span class="keyword">new</span> JSONObject(args);</div><div class="line"></div><div class="line">                <span class="comment">// 可以通过这种方法获取lua传入的值</span></div><div class="line">                String testId = argsJ.getInt(<span class="string">"id"</span>)</div><div class="line">                String testVal = argsJ.getString(<span class="string">"val"</span>);</div><div class="line"></div><div class="line">                <span class="comment">// ok为传入到lua回调的参数</span></div><div class="line">                Cocos2dxLuaJavaBridge.callLuaFunctionWithString(callback, <span class="string">"ok"</span>);</div><div class="line">                Cocos2dxLuaJavaBridge.releaseLuaFunction(callback);</div><div class="line"></div><div class="line">            &#125; <span class="keyword">catch</span> (JSONException e) &#123;</div><div class="line">                e.printStackTrace();</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">local</span> <span class="function"><span class="keyword">function</span> <span class="title">callback</span><span class="params">(result)</span></span></div><div class="line">    <span class="built_in">print</span>(<span class="string">"result"</span>) <span class="comment">-- 会打印出ok</span></div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line"><span class="keyword">local</span> args = json.encode(&#123; id = <span class="number">1</span>, val = <span class="string">"test"</span> &#125;)</div><div class="line">luaj.callStaticMethod(<span class="string">"org/cocos2dx/lua/AppActivity"</span>, <span class="string">"testLuaCallback"</span>, &#123;callback, args&#125;, <span class="string">"(ILjava/lang/String;)V"</span>)</div></pre></td></tr></table></figure>
<h2 id="7-注意"><a href="#7-注意" class="headerlink" title="7. 注意"></a>7. 注意</h2><p>直接使用LuaObjcBridge的时候要注意，参数必须是3个<br>LuaObjcBridge.callStaticMethod(“AppController”, “getProvider”)<br>会导致执行失败<br>LuaObjcBridge.callStaticMethod(“AppController”, “getProvider”, nil)<br>luaoc.callStaticMethod就是3个参数，少传一个是自动帮你传了nil过去，所以不会出错。</p>
]]></content>
    
    <summary type="html">
    
      让Lua和Java互操
    
    </summary>
    
      <category term="技术学习" scheme="http://www.xianwx.xyz/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="cocos" scheme="http://www.xianwx.xyz/tags/cocos/"/>
    
  </entry>
  
  <entry>
    <title>git常用命令记录</title>
    <link href="http://www.xianwx.xyz/2018/05/19/git-commond/"/>
    <id>http://www.xianwx.xyz/2018/05/19/git-commond/</id>
    <published>2018-05-19T02:53:12.000Z</published>
    <updated>2018-05-19T03:22:24.682Z</updated>
    
    <content type="html"><![CDATA[<p>可能文章的描述会让大家觉得奇怪，程序猿嘛，应该是“除了使用命令操作，有时候还需要客户端。”才对嘛。<br>但是日常工作中其实，客户端用的居多，毕竟比对啊提交啊什么的，用起来还是很方便很直观的。<br>此处推荐常用软件：<a href="https://git-fork.com/" target="_blank" rel="external">fork</a><br>优点是：</p>
<ul>
<li>免费</li>
<li>有夜晚主题，不用被骚死tree亮瞎眼</li>
<li>速度快</li>
<li>一直在维护中，给官方提bug也很乐于解决。</li>
<li>从它很不好用一直用到现在，感受到它愈发趋于完善，真的很欣慰。</li>
</ul>
<p>一般客户端用于：</p>
<ul>
<li>commit</li>
<li>push/pull</li>
<li>new branch</li>
<li>fetch</li>
<li>merge</li>
<li>stash/use stash</li>
<li>cherry-pick</li>
</ul>
<p>以下是命令介绍:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git checkout [branch] -- [file name] 重指定分支copy指定文件到当前branch</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git reset --hard [branch]            重置当前到指定分支</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git reset [branch]~[commit times]    丢弃指定分支指定次数的提交</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      除了使用客户端操作，有时候还需要命令。
    
    </summary>
    
      <category term="技术学习" scheme="http://www.xianwx.xyz/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="git" scheme="http://www.xianwx.xyz/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>持续完善hexo博客</title>
    <link href="http://www.xianwx.xyz/2018/05/19/hexo-keep-pref/"/>
    <id>http://www.xianwx.xyz/2018/05/19/hexo-keep-pref/</id>
    <published>2018-05-19T02:07:33.000Z</published>
    <updated>2018-07-19T02:54:37.642Z</updated>
    
    <content type="html"><![CDATA[<p>把博客搭建起来都一年多了，因为一直没啥人看，所以都懒得更新，现在想想，岂不是浪费了当初搭建的那半个多小时？</p>
<p>以后如果对博客有啥修改，就统一在这里更新。</p>
<p>update 2018-05-19:</p>
<h2 id="一般博客都需要有的一个功能：置顶"><a href="#一般博客都需要有的一个功能：置顶" class="headerlink" title="一般博客都需要有的一个功能：置顶"></a>一般博客都需要有的一个功能：置顶</h2><p>修改<code>node_modules/hexo-generator-index/lib/generator.js</code><br>加上<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">posts.data = posts.data.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</div><div class="line">        <span class="keyword">if</span>(a.top &amp;&amp; b.top) &#123; <span class="comment">// 两篇文章top都有定义</span></div><div class="line">            <span class="keyword">if</span>(a.top == b.top) <span class="keyword">return</span> b.date - a.date; <span class="comment">// 若top值一样则按照文章日期降序排</span></div><div class="line">            <span class="keyword">else</span> <span class="keyword">return</span> b.top - a.top; <span class="comment">// 否则按照top值降序排</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(a.top &amp;&amp; !b.top) &#123; <span class="comment">// 以下是只有一篇文章top有定义，那么将有top的排在前面（这里用异或操作居然不行233）</span></div><div class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(!a.top &amp;&amp; b.top) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">return</span> b.date - a.date; <span class="comment">// 都没定义按照文章日期降序排</span></div><div class="line">    &#125;);</div></pre></td></tr></table></figure></p>
<p>即可以用top值（默认0）来进行排序，数字越大的，就会排在越前面，top相等则以日期排序<br>参考<a href="https://thief.one/2017/03/03/Hexo%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E6%95%99%E7%A8%8B/" target="_blank" rel="external">Hexo搭建博客教程</a></p>
<h2 id="一般人都喜欢干的事情：添加音乐"><a href="#一般人都喜欢干的事情：添加音乐" class="headerlink" title="一般人都喜欢干的事情：添加音乐"></a>一般人都喜欢干的事情：添加音乐</h2><p>好久之前就给自己博客加了音乐，但是！<br>我完全忘了是怎么加的了！</p>
<ul>
<li>打开网易云网页版</li>
<li>登陆</li>
<li>打开自己的歌单，有个生成外链播放器的按钮</li>
<li>获取到外链代码，修改<code>layout/_partial/left-col.ejs</code>比如：<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">&lt;div id=<span class="string">"music-area"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"switch-area"</span>&gt;</div><div class="line">    <span class="xml"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">frameborder</span>=<span class="string">"no"</span> <span class="attr">border</span>=<span class="string">"0"</span> <span class="attr">marginwidth</span>=<span class="string">"0"</span> <span class="attr">marginheight</span>=<span class="string">"0"</span> <span class="attr">width</span>=<span class="string">290</span> <span class="attr">height</span>=<span class="string">310</span> <span class="attr">src</span>=<span class="string">"//music.163.com/outchain/player?type=0&amp;id=523244238&amp;auto=1&amp;height=380&amp;qlrc=1"</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span></div><div class="line">&lt;<span class="regexp">/div&gt;</span></div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="给博客文章插入图片"><a href="#给博客文章插入图片" class="headerlink" title="给博客文章插入图片"></a>给博客文章插入图片</h2><p>可以把图片放在source目录下边，比如新建一个images文件夹，既可以用这种方式访问到它们。<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">![](/images/14D6CC4556F6F4E73E2FB578D0D2F26E.jpg)</div></pre></td></tr></table></figure></p>
<p>参考：<a href="https://yanyinhong.github.io/2017/05/02/How-to-insert-image-in-hexo-post/" target="_blank" rel="external">Hexo博客搭建之在文章中插入图片</a></p>
<h2 id="给博客文章引用站内其它文章"><a href="#给博客文章引用站内其它文章" class="headerlink" title="给博客文章引用站内其它文章"></a>给博客文章引用站内其它文章</h2>
<p>e.g:<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;% post_link node-start-server Node开启一个HTTP服务器 %&#125;</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      持续性博客作死记录
    
    </summary>
    
      <category term="技术学习" scheme="http://www.xianwx.xyz/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="hexo" scheme="http://www.xianwx.xyz/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>更好的管理你的git SSH-Key</title>
    <link href="http://www.xianwx.xyz/2017/01/07/manage-your-git-ssh-key/"/>
    <id>http://www.xianwx.xyz/2017/01/07/manage-your-git-ssh-key/</id>
    <published>2017-01-07T06:59:38.000Z</published>
    <updated>2017-01-23T03:38:59.000Z</updated>
    
    <content type="html"><![CDATA[<p>   日常工作中，我们经常碰到又想写公司的项目，又想自己维护自己的项目，公司的项目基本都在gitlab上，自己的项目在github上，所以我们需要配置不同的SSH-Key来对应不同的环境。</p>
<h2 id="1-设置一个默认的全局name和email"><a href="#1-设置一个默认的全局name和email" class="headerlink" title="1. 设置一个默认的全局name和email"></a>1. 设置一个默认的全局name和email</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git config --global user.name <span class="string">"your name"</span></div><div class="line">git config --global user.email <span class="string">"your email addr"</span></div></pre></td></tr></table></figure>
<p>如果不设置这个，已经clone过的每个项目都需要去手动设置一下归属到哪个账户（当然，如果你是用那个clone下来的倒没事，像我是已经clone过了，不得不设置啊）</p>
<h2 id="2-生成SSH-Key"><a href="#2-生成SSH-Key" class="headerlink" title="2. 生成SSH-Key"></a>2. 生成SSH-Key</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ssh-keygen -t rsa -C <span class="string">"your company email"</span> <span class="_">-f</span> ~/.ssh/id_rsa</div></pre></td></tr></table></figure>
<p>一般都叫id_rsa，第一个先弄公司的好了，然后再对应的公司的账户下边加上id_rsa.pub里的内容<br>再生成github的SSH-Key：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ssh-keygen -t rsa -C <span class="string">"your github email"</span> <span class="_">-f</span> ~/.ssh/my_rsa</div></pre></td></tr></table></figure>
<p>同上，把my_rsa.pub里的内容加到github服务器的配置中。</p>
<h2 id="3-添加私钥"><a href="#3-添加私钥" class="headerlink" title="3. 添加私钥"></a>3. 添加私钥</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ ssh-add ~/.ssh/id_rsa </div><div class="line">$ ssh-add ~/.ssh/my_rsa</div></pre></td></tr></table></figure>
<p>上面一步执行如果失败，并且提示的是”Could not open a connection to your authentication agent”,执行：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ssh-agent bash</div></pre></td></tr></table></figure></p>
<p>添加成功过后，可以执行下面这条查看结果<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ssh-add <span class="_">-l</span></div></pre></td></tr></table></figure></p>
<h2 id="4-修改host配置"><a href="#4-修改host配置" class="headerlink" title="4. 修改host配置"></a>4. 修改host配置</h2><p>打开~/.ssh里的config文件（如果没有就新建一个，没有后缀名）<br>加上以下内容：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"># gitlab</div><div class="line">Host gitlab.com</div><div class="line">    HostName 公司gitlab地址</div><div class="line">    PreferredAuthentications publickey</div><div class="line">    IdentityFile ~/.ssh/id_rsa</div><div class="line">    User 你想要的名字</div><div class="line"># github</div><div class="line">Host github.com</div><div class="line">    HostName github.com</div><div class="line">    PreferredAuthentications publickey</div><div class="line">    IdentityFile ~/.ssh/github_rsa</div><div class="line">    User 你github要显示的名字</div></pre></td></tr></table></figure></p>
<p>测试一下：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ssh -T git@github.com</div></pre></td></tr></table></figure></p>
<p>也可以试试公司的网址，如果出现Hi xxx! You’ve successfully authenticated, but GitHub does not provide shell access.就可以了。</p>
<h2 id="5-对应账号"><a href="#5-对应账号" class="headerlink" title="5. 对应账号"></a>5. 对应账号</h2><p>如果已经设置了global的用户名和email，就得到不想用默认账户对应的项目文件夹下执行<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git config user.name <span class="string">"your github name"</span></div><div class="line">$ git config user.email <span class="string">"your github email"</span></div></pre></td></tr></table></figure></p>
<p>这样就可以使用github的账号了。如果不想有默认的而且设置过，可以执行<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git config --global --unset user.name</div><div class="line">$ git config --global --unset user.email</div></pre></td></tr></table></figure></p>
<h2 id="6-对于本博客的修改"><a href="#6-对于本博客的修改" class="headerlink" title="6. 对于本博客的修改"></a>6. 对于本博客的修改</h2><p>在博客目录下边的.deploy_git下边里有config文件，这是hexo提交的时候对应的config文件，可以把.git下边的config里的user拷过来，顺便把这个url改成ssh的。</p>
]]></content>
    
    <summary type="html">
    
      分别管理公司以及个人的ssh-key
    
    </summary>
    
      <category term="技术学习" scheme="http://www.xianwx.xyz/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="git" scheme="http://www.xianwx.xyz/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>给lua文件注入插件的方法</title>
    <link href="http://www.xianwx.xyz/2017/01/07/ext-layer-in-quick-cocos/"/>
    <id>http://www.xianwx.xyz/2017/01/07/ext-layer-in-quick-cocos/</id>
    <published>2017-01-07T03:54:39.000Z</published>
    <updated>2018-07-19T03:37:09.037Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-初衷"><a href="#1-初衷" class="headerlink" title="1. 初衷"></a>1. 初衷</h2><p>好久没有更新博客了，之前写了lua元表相关的东西，如果对元表不理解的话，可以在看一下<a href="/2016/09/23/lua-multiple-inheritance/" title="lua的元表以及多继承">lua的元表以及多继承</a>。<br>现在在用quick cocos在写一款游戏，等空闲了可以来更新一下躺过的坑。<br>闲话少说，现在用cocos开发，走的路子多是策划或者美术拼出界面(cocos studio)，然后到处csb文件程序加载，再对界面进行各项处理(creator没用过)。<br>于是问题来了，一般的做法，将csb读取过来作为layer的child，可能会出现非常多次的对其getChild（可能层次很深），对csb上的某个控件进行setString、setTexture等，怎么做比较好？</p>
<h2 id="2-解决方案"><a href="#2-解决方案" class="headerlink" title="2. 解决方案"></a>2. 解决方案</h2><p>提供几个解决方案：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">* 写一个公用方法，获取csb的控件，每次都先取得控件后对其操作</div><div class="line">* 写很多个公用方法，对setString的操作啊，对setTexture的操作啊都写上</div><div class="line">* 写很多个local方法，代码一样</div><div class="line">* 也是写很多个公用方法，分成各个插件，layer自己选择要去组装哪些</div></pre></td></tr></table></figure></p>
<h2 id="3-插件的实现方法"><a href="#3-插件的实现方法" class="headerlink" title="3. 插件的实现方法"></a>3. 插件的实现方法</h2><p>非常简单，只需要几步</p>
<ul>
<li><p>写插件，e.g:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">local</span> ext = &#123;&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">ext:setString</span><span class="params">()</span></span></div><div class="line">    <span class="comment">-- do set string</span></div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line"><span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="params">(layer)</span></span></div><div class="line">    <span class="keyword">for</span> k, v <span class="keyword">in</span> <span class="built_in">pairs</span>(ext) <span class="keyword">do</span></div><div class="line">        <span class="comment">-- 这里加上assert是怕覆盖了原有的字段</span></div><div class="line">        <span class="built_in">assert</span>(<span class="keyword">not</span> layer[k], <span class="built_in">string</span>.format(<span class="string">"funciton %s exist"</span>, k))</div><div class="line">        layer[k] = v</div><div class="line">    <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
</li>
<li><p>注入</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">local</span> layer = display.newLayer()</div><div class="line"><span class="built_in">require</span>(<span class="string">"ext"</span>)(layer)</div></pre></td></tr></table></figure>
</li>
<li><p>使用<br>这样就可以直接使用</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">layer:setString()</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="4-总结"><a href="#4-总结" class="headerlink" title="4. 总结"></a>4. 总结</h2><p>使用这种注入的方法，可以大幅度减少代码的重复量，也可以不用增加很多公用的方法，安全且高效。<br>注入的方法重点是ext的return 函数，对于<strong>使用.</strong>的方法需要有另外的写法。<br>等空闲时间，我会整理一个管理scene layer的框架，包括读取csb等框架传到github上。</p>
]]></content>
    
    <summary type="html">
    
      让代码变得更加简洁高效
    
    </summary>
    
      <category term="技术学习" scheme="http://www.xianwx.xyz/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="quick cocos" scheme="http://www.xianwx.xyz/tags/quick-cocos/"/>
    
      <category term="lua" scheme="http://www.xianwx.xyz/tags/lua/"/>
    
  </entry>
  
</feed>
